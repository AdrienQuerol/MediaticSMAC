<section class="contenu container-fluid">
	<div class="row">
		<div class="col-md-6 col-md-offset-3 encadre">
			<section>
				<h1 class="text-center">Fiche m&eacute;dia</h1>
				<form ng-submit="ficheMediaCtrl.enregistrerMedia()" class="form-horizontal">
					<div class="form-group">
						<label for="titre" class="col-md-4 control-label">Titre</label>
						<div class="col-md-5 entree">
							<input id="titre" name="titre" type="text" class="form-control"
								required placeholder="Mon titre" ng-model="ficheMediaCtrl.formMedia.media.titre" />
						</div>
					</div>
					<div class="form-group">
						<label for="auteur" class="col-md-4 control-label">Auteur</label>
						<div class="col-md-5 entree">
							<input id="auteur" name="auteur" type="text" class="form-control"
								required placeholder="Paul Dupont"
								ng-model="ficheMediaCtrl.formMedia.media.auteur" />
						</div>
					</div>
					<div class="form-group">
						<label for="type" class="col-md-4 control-label">Type</label>
						<div class="col-md-5 entree">
							<select id="type" name="type" class="form-control"
								ng-model="ficheMediaCtrl.formMedia.media.type"
								ng-options="item for item in ficheMediaCtrl.formMedia.typesMedia" required>
							</select>
						</div>
					</div>
					<div class="form-group">
						<div class="col-md-5 col-md-offset-5 entree">
							<input id="enregistrer" type="submit"
								value="Enregistrer les modifications" class="btn btn-success" />
						</div>
					</div>
				</form>
			</section>
			<section>
				<h1 class="text-center">Nouvel emprunt</h1>
				<form ng-submit="ficheMediaCtrl.ajouterEmprunt()" class="form-horizontal">
					<div class="form-group obligatoire">
						<label class="col-md-4 control-label" for="nomAdhe">Emprunteur</label>
						<div class="col-md-5">
							<input type="text" class="form-control" name="nomAdhe"
								id="nomAdhe" ng-model="ficheMediaCtrl.formEmprunt.adherent"/>
						</div>
						<div id="listeAdherents" ng-class="{affiche: ficheMediaCtrl.formEmprunt.listeAdherents.affiche}">
							<table class="table table-striped table-hover tableau">
								<tr	ng-repeat="adherent in ficheMediaCtrl.formEmprunt.listeAdherents.adherents" ng-click="ficheMediaCtrl.selectionnerAdherent(adherent)">
									<td>{{adherent.nom}}</td>
									<td>{{adherent.prenom}}</td>
									<td>nÃ© le {{adherent.date_naissance }}</td>
								</tr>
							</table>
						</div>
					</div>
					<div class="form-group obligatoire">
						<label class="col-md-4 control-label" for="date_emprunt">Date</label>
						<div class="col-md-5">
							<input type="date" class="form-control" name="date_emprunt"
								id="date_emprunt" ng-model="ficheMediaCtrl.formEmprunt.date"/>
						</div>
					</div>
					<div class="form-group">
						<div class="col-md-5 col-md-offset-5">
							<input class="btn btn-success" type="submit" id="ajoutEmprunt"
								value="Ajouter emprunt" />
						</div>
					</div>
				</form>
			</section>
			<section>
				<h1 class="text-center">Historique des emprunts</h1>
				<div id="conteneurDynamique" ng-class="{chargementEnCours: !ficheMediaCtrl.empruntsCharges}">
					<table class="table table-striped table-hover tableau">
						<thead>
							<tr>
								<th>Identifiant
									<div class="carets">
										<span class="caret-inv"></span> <span class="caret"></span>
									</div>
								</th>
								<th>Nom
									<div class="carets">
										<span class="caret-inv"></span> <span class="caret"></span>
									</div>
								</th>
								<th>Prenom
									<div class="carets">
										<span class="caret-inv"></span> <span class="caret"></span>
									</div>
								</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="emprunt in ficheMediaCtrl.listeEmprunts" ng-click="ficheMediaCtrl.ouvrirFicheAdherent(emprunt.adherent)">
								<td>{{emprunt.adherent.id}}</td>
								<td>{{emprunt.adherent.nom}}</td>
								<td>{{emprunt.adherent.prenom}}</td>
							</tr>
						</tbody>
						<tfoot>
						</tfoot>
					</table>
				</div>
				<div id="chargement" ng-class="{chargementEnCours: !ficheMediaCtrl.empruntsCharges}"><span class="fa fa-spinner fa-pulse"></span></div>
			</section>
		</div>
	</div>
</section>